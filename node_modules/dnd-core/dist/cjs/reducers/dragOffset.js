"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.reduce = void 0;
const dragDrop_1 = require("../actions/dragDrop");
const equality_1 = require("../utils/equality");
const initialState = {
    initialSourceClientOffset: null,
    initialClientOffset: null,
    clientOffset: null,
};
function reduce(state = initialState, action) {
    const { payload } = action;
    switch (action.type) {
        case dragDrop_1.INIT_COORDS:
        case dragDrop_1.BEGIN_DRAG:
            return {
                initialSourceClientOffset: payload.sourceClientOffset,
                initialClientOffset: payload.clientOffset,
                clientOffset: payload.clientOffset,
            };
        case dragDrop_1.HOVER:
            if ((0, equality_1.areCoordsEqual)(state.clientOffset, payload.clientOffset)) {
                return state;
            }
            return {
                ...state,
                clientOffset: payload.clientOffset,
            };
        case dragDrop_1.END_DRAG:
        case dragDrop_1.DROP:
            return initialState;
        default:
            return state;
    }
}
exports.reduce = reduce;
