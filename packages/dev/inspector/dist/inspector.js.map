{"version":3,"file":"inspector.js","sourceRoot":"","sources":["../src/inspector.ts"],"names":[],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport type { IInspectorOptions } from \"core/Debug/debugLayer\";\r\nimport type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { Observable } from \"core/Misc/observable\";\r\nimport { EngineStore } from \"core/Engines/engineStore\";\r\nimport type { Scene } from \"core/scene\";\r\nimport { SceneLoader } from \"core/Loading/sceneLoader\";\r\n\r\nimport { ActionTabsComponent } from \"./components/actionTabs/actionTabsComponent\";\r\nimport { SceneExplorerComponent } from \"./components/sceneExplorer/sceneExplorerComponent\";\r\nimport { EmbedHostComponent } from \"./components/embedHost/embedHostComponent\";\r\nimport type { PropertyChangedEvent } from \"./components/propertyChangedEvent\";\r\nimport { GlobalState } from \"./components/globalState\";\r\nimport type { IPopupComponentProps } from \"./components/popupComponent\";\r\nimport { PopupComponent } from \"./components/popupComponent\";\r\n\r\ninterface IInternalInspectorOptions extends IInspectorOptions {\r\n    popup: boolean;\r\n    original: boolean;\r\n    explorerWidth?: string;\r\n    inspectorWidth?: string;\r\n    embedHostWidth?: string;\r\n}\r\n\r\nexport interface IPersistentPopupConfiguration {\r\n    props: IPopupComponentProps;\r\n    children: React.ReactNode;\r\n    closeWhenSceneExplorerCloses?: boolean;\r\n    closeWhenActionTabsCloses?: boolean;\r\n}\r\n\r\nexport class Inspector {\r\n    private static _SceneExplorerHost: Nullable<HTMLElement>;\r\n    private static _ActionTabsHost: Nullable<HTMLElement>;\r\n    private static _EmbedHost: Nullable<HTMLElement>;\r\n    private static _NewCanvasContainer: Nullable<HTMLElement>;\r\n    private static _PersistentPopupHost: Nullable<HTMLElement>;\r\n\r\n    private static _SceneExplorerWindow: Window;\r\n    private static _ActionTabsWindow: Window;\r\n    private static _EmbedHostWindow: Window;\r\n\r\n    private static _Scene: Scene;\r\n    private static _OpenedPane = 0;\r\n    private static _OnBeforeRenderObserver: Nullable<Observer<Scene>>;\r\n\r\n    private static _OnSceneExplorerClosedObserver: Nullable<Observer<void>>;\r\n    private static _OnActionTabsClosedObserver: Nullable<Observer<void>>;\r\n\r\n    public static OnSelectionChangeObservable = new Observable<any>();\r\n    public static OnPropertyChangedObservable = new Observable<PropertyChangedEvent>();\r\n    private static _GlobalState = new GlobalState();\r\n\r\n    public static MarkLineContainerTitleForHighlighting(title: string) {\r\n        this._GlobalState.selectedLineContainerTitles = [];\r\n        this._GlobalState.selectedLineContainerTitles.push(title);\r\n    }\r\n\r\n    public static MarkMultipleLineContainerTitlesForHighlighting(titles: string[]) {\r\n        this._GlobalState.selectedLineContainerTitles = [];\r\n        this._GlobalState.selectedLineContainerTitles.push(...titles);\r\n    }\r\n\r\n    private static _CopyStyles(sourceDoc: HTMLDocument, targetDoc: HTMLDocument) {\r\n        for (let index = 0; index < sourceDoc.styleSheets.length; index++) {\r\n            const styleSheet: any = sourceDoc.styleSheets[index];\r\n\r\n            try {\r\n                if (styleSheet.cssRules) {\r\n                    // for <style> elements\r\n                    const newStyleEl = sourceDoc.createElement(\"style\");\r\n\r\n                    for (const cssRule of styleSheet.cssRules) {\r\n                        // write the text of each rule into the body of the style element\r\n                        newStyleEl.appendChild(sourceDoc.createTextNode(cssRule.cssText));\r\n                    }\r\n\r\n                    targetDoc.head!.appendChild(newStyleEl);\r\n                } else if (styleSheet.href) {\r\n                    // for <link> elements loading CSS from a URL\r\n                    const newLinkEl = sourceDoc.createElement(\"link\");\r\n\r\n                    newLinkEl.rel = \"stylesheet\";\r\n                    newLinkEl.href = styleSheet.href;\r\n                    targetDoc.head!.appendChild(newLinkEl);\r\n                }\r\n            } catch (e) {}\r\n        }\r\n    }\r\n\r\n    private static _SceneExplorerOptions: Nullable<IInternalInspectorOptions> = null;\r\n    private static _InspectorOptions: Nullable<IInternalInspectorOptions> = null;\r\n    private static _EmbedOptions: Nullable<IInternalInspectorOptions> = null;\r\n\r\n    public static PopupEmbed() {\r\n        const scene = this._Scene;\r\n        const options = this._EmbedOptions;\r\n\r\n        if (!options) {\r\n            return;\r\n        }\r\n        ReactDOM.unmountComponentAtNode(this._EmbedHost!);\r\n\r\n        if (options.popup) {\r\n            this._EmbedHostWindow.close();\r\n        }\r\n\r\n        this._RemoveElementFromDOM(this._EmbedHost);\r\n\r\n        options.popup = !options.popup;\r\n        options.embedMode = true;\r\n        options.showExplorer = true;\r\n        options.showInspector = true;\r\n        options.embedHostWidth = options.popup ? \"100%\" : \"auto\";\r\n        Inspector.Show(scene, options);\r\n    }\r\n\r\n    public static PopupSceneExplorer() {\r\n        const scene = this._Scene;\r\n        const options = this._SceneExplorerOptions;\r\n\r\n        if (!options) {\r\n            return;\r\n        }\r\n\r\n        ReactDOM.unmountComponentAtNode(this._SceneExplorerHost!);\r\n\r\n        this._RemoveElementFromDOM(this._SceneExplorerHost);\r\n\r\n        if (options.popup) {\r\n            this._SceneExplorerWindow.close();\r\n        }\r\n\r\n        options.popup = !options.popup;\r\n        options.showExplorer = true;\r\n        options.showInspector = false;\r\n        options.explorerWidth = options.popup ? \"100%\" : \"300px\";\r\n        Inspector.Show(scene, options);\r\n    }\r\n\r\n    public static PopupInspector() {\r\n        const scene = this._Scene;\r\n        const options = this._InspectorOptions;\r\n\r\n        if (!options) {\r\n            return;\r\n        }\r\n\r\n        ReactDOM.unmountComponentAtNode(this._ActionTabsHost!);\r\n\r\n        this._RemoveElementFromDOM(this._ActionTabsHost);\r\n\r\n        if (options.popup) {\r\n            this._ActionTabsWindow.close();\r\n        }\r\n\r\n        options.popup = !options.popup;\r\n        options.showExplorer = false;\r\n        options.showInspector = true;\r\n        options.inspectorWidth = options.popup ? \"100%\" : \"300px\";\r\n        Inspector.Show(scene, options);\r\n    }\r\n\r\n    private static _CreateSceneExplorer(scene: Scene, options: IInternalInspectorOptions, parentControlExplorer: Nullable<HTMLElement>) {\r\n        // Duplicating the options as they can be different for each pane\r\n        if (options.original) {\r\n            options = {\r\n                original: false,\r\n                popup: options.popup,\r\n                overlay: options.overlay,\r\n                showExplorer: options.showExplorer,\r\n                showInspector: options.showInspector,\r\n                additionalNodes: options.additionalNodes,\r\n                embedMode: options.embedMode,\r\n                handleResize: options.handleResize,\r\n                enablePopup: options.enablePopup,\r\n                enableClose: options.enableClose,\r\n                explorerExtensibility: options.explorerExtensibility,\r\n                gizmoCamera: options.gizmoCamera,\r\n                contextMenu: options.contextMenu,\r\n                contextMenuOverride: options.contextMenuOverride,\r\n            };\r\n        }\r\n        this._EmbedOptions = null;\r\n        this._SceneExplorerOptions = options;\r\n\r\n        // Prepare the scene explorer host\r\n        if (parentControlExplorer) {\r\n            this._SceneExplorerHost = parentControlExplorer.ownerDocument!.createElement(\"div\");\r\n\r\n            this._SceneExplorerHost.id = \"scene-explorer-host\";\r\n            this._SceneExplorerHost.style.width = options.explorerWidth || \"auto\";\r\n\r\n            if (!options.popup) {\r\n                parentControlExplorer.insertBefore(this._SceneExplorerHost, this._NewCanvasContainer);\r\n            } else {\r\n                parentControlExplorer.appendChild(this._SceneExplorerHost);\r\n            }\r\n\r\n            if (!options.overlay) {\r\n                this._SceneExplorerHost.style.position = \"relative\";\r\n            }\r\n        }\r\n\r\n        // Scene\r\n        if (this._SceneExplorerHost) {\r\n            this._OpenedPane++;\r\n            const sceneExplorerElement = React.createElement(SceneExplorerComponent, {\r\n                scene,\r\n                contextMenu: options.contextMenu,\r\n                contextMenuOverride: options.contextMenuOverride,\r\n                gizmoCamera: options.gizmoCamera,\r\n                globalState: this._GlobalState,\r\n                extensibilityGroups: options.explorerExtensibility,\r\n                additionalNodes: options.additionalNodes,\r\n                noClose: !options.enableClose,\r\n                noExpand: !options.enablePopup,\r\n                popupMode: options.popup,\r\n                onPopup: () => {\r\n                    this.PopupSceneExplorer();\r\n                },\r\n                onClose: () => {\r\n                    ReactDOM.unmountComponentAtNode(this._SceneExplorerHost!);\r\n                    Inspector._OpenedPane--;\r\n\r\n                    this._RemoveElementFromDOM(this._SceneExplorerHost);\r\n\r\n                    this._Cleanup();\r\n\r\n                    if (options.popup) {\r\n                        this._SceneExplorerWindow.close();\r\n                    }\r\n\r\n                    this._GlobalState.onSceneExplorerClosedObservable.notifyObservers();\r\n                },\r\n            });\r\n            ReactDOM.render(sceneExplorerElement, this._SceneExplorerHost);\r\n        }\r\n    }\r\n\r\n    private static _CreateActionTabs(scene: Scene, options: IInternalInspectorOptions, parentControlActions: Nullable<HTMLElement>) {\r\n        options.original = false;\r\n\r\n        this._EmbedOptions = null;\r\n        this._InspectorOptions = options;\r\n\r\n        // Prepare the inspector host\r\n        if (parentControlActions) {\r\n            const host = parentControlActions.ownerDocument!.createElement(\"div\");\r\n\r\n            host.id = \"inspector-host\";\r\n            host.style.width = options.inspectorWidth || \"auto\";\r\n\r\n            parentControlActions.appendChild(host);\r\n\r\n            this._ActionTabsHost = host;\r\n\r\n            if (!options.overlay) {\r\n                this._ActionTabsHost.style.position = \"relative\";\r\n            }\r\n        }\r\n\r\n        if (this._ActionTabsHost) {\r\n            this._OpenedPane++;\r\n            const actionTabsElement = React.createElement(ActionTabsComponent, {\r\n                globalState: this._GlobalState,\r\n                scene: scene,\r\n                noClose: !options.enableClose,\r\n                noExpand: !options.enablePopup,\r\n                popupMode: options.popup,\r\n                onPopup: () => {\r\n                    this.PopupInspector();\r\n                },\r\n                onClose: () => {\r\n                    ReactDOM.unmountComponentAtNode(this._ActionTabsHost!);\r\n                    Inspector._OpenedPane--;\r\n                    this._Cleanup();\r\n\r\n                    this._RemoveElementFromDOM(this._ActionTabsHost);\r\n\r\n                    if (options.popup) {\r\n                        this._ActionTabsWindow.close();\r\n                    }\r\n\r\n                    this._GlobalState.onActionTabsClosedObservable.notifyObservers();\r\n                },\r\n                initialTab: options.initialTab,\r\n            });\r\n            ReactDOM.render(actionTabsElement, this._ActionTabsHost);\r\n        }\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private static _CreateEmbedHost(scene: Scene, options: IInternalInspectorOptions, parentControl: Nullable<HTMLElement>, onSelectionChangedObservable: Observable<string>) {\r\n        this._EmbedOptions = options;\r\n        this._SceneExplorerOptions = null;\r\n        this._InspectorOptions = null;\r\n        // Prepare the inspector host\r\n        if (parentControl) {\r\n            const host = parentControl.ownerDocument!.createElement(\"div\");\r\n\r\n            host.id = \"embed-host\";\r\n            host.style.width = options.embedHostWidth || \"auto\";\r\n\r\n            parentControl.appendChild(host);\r\n\r\n            this._EmbedHost = host;\r\n\r\n            if (!options.overlay) {\r\n                this._EmbedHost.style.position = \"relative\";\r\n            }\r\n        }\r\n\r\n        if (this._EmbedHost) {\r\n            this._OpenedPane++;\r\n            const embedHostElement = React.createElement(EmbedHostComponent, {\r\n                globalState: this._GlobalState,\r\n                scene: scene,\r\n                extensibilityGroups: options.explorerExtensibility,\r\n                additionalNodes: options.additionalNodes,\r\n                noExpand: !options.enablePopup,\r\n                noClose: !options.enableClose,\r\n                popupMode: options.popup,\r\n                onPopup: () => {\r\n                    this.PopupEmbed();\r\n                },\r\n                onClose: () => {\r\n                    ReactDOM.unmountComponentAtNode(this._EmbedHost!);\r\n\r\n                    this._OpenedPane = 0;\r\n                    this._Cleanup();\r\n\r\n                    this._RemoveElementFromDOM(this._EmbedHost);\r\n\r\n                    if (options.popup) {\r\n                        this._EmbedHostWindow.close();\r\n                    }\r\n\r\n                    this._GlobalState.onSceneExplorerClosedObservable.notifyObservers();\r\n                    this._GlobalState.onActionTabsClosedObservable.notifyObservers();\r\n                },\r\n                initialTab: options.initialTab,\r\n            });\r\n            ReactDOM.render(embedHostElement, this._EmbedHost);\r\n        }\r\n    }\r\n    public static _CreatePopup(title: string, windowVariableName: string, width = 300, height = 800, lateBinding?: boolean) {\r\n        const windowCreationOptionsList = {\r\n            width: width,\r\n            height: height,\r\n            top: (window.innerHeight - width) / 2 + window.screenY,\r\n            left: (window.innerWidth - height) / 2 + window.screenX,\r\n        };\r\n\r\n        const windowCreationOptions = Object.keys(windowCreationOptionsList)\r\n            .map((key) => key + \"=\" + (windowCreationOptionsList as any)[key])\r\n            .join(\",\");\r\n\r\n        const popupWindow = window.open(\"\", title, windowCreationOptions);\r\n        if (!popupWindow) {\r\n            return null;\r\n        }\r\n\r\n        const parentDocument = popupWindow.document;\r\n\r\n        // Font\r\n        const newLinkEl = parentDocument.createElement(\"link\");\r\n\r\n        newLinkEl.rel = \"stylesheet\";\r\n        newLinkEl.href = \"https://use.typekit.net/cta4xsb.css\";\r\n        parentDocument.head!.appendChild(newLinkEl);\r\n\r\n        parentDocument.title = title;\r\n        parentDocument.body.style.width = \"100%\";\r\n        parentDocument.body.style.height = \"100%\";\r\n        parentDocument.body.style.margin = \"0\";\r\n        parentDocument.body.style.padding = \"0\";\r\n\r\n        const parentControl = parentDocument.createElement(\"div\");\r\n        parentControl.style.width = \"100%\";\r\n        parentControl.style.height = \"100%\";\r\n        parentControl.style.margin = \"0\";\r\n        parentControl.style.padding = \"0\";\r\n\r\n        popupWindow.document.body.appendChild(parentControl);\r\n\r\n        this._CopyStyles(window.document, parentDocument);\r\n\r\n        if (lateBinding) {\r\n            setTimeout(() => {\r\n                // need this for late bindings\r\n                this._CopyStyles(window.document, parentDocument);\r\n            }, 0);\r\n        }\r\n\r\n        (this as any)[windowVariableName] = popupWindow;\r\n\r\n        return parentControl;\r\n    }\r\n\r\n    public static get IsVisible(): boolean {\r\n        return this._OpenedPane > 0;\r\n    }\r\n\r\n    public static EarlyAttachToLoader() {\r\n        if (!this._GlobalState.onPluginActivatedObserver) {\r\n            this._GlobalState.onPluginActivatedObserver = SceneLoader.OnPluginActivatedObservable.add((rawLoader) => {\r\n                this._GlobalState.resetGLTFValidationResults();\r\n\r\n                const loader = rawLoader as import(\"loaders/glTF/index\").GLTFFileLoader;\r\n                if (loader.name === \"gltf\") {\r\n                    this._GlobalState.prepareGLTFPlugin(loader);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public static Show(scene: Scene, userOptions: Partial<IInspectorOptions>) {\r\n        const options: IInternalInspectorOptions = {\r\n            original: true,\r\n            popup: false,\r\n            overlay: false,\r\n            showExplorer: true,\r\n            showInspector: true,\r\n            embedMode: false,\r\n            enableClose: true,\r\n            handleResize: true,\r\n            enablePopup: true,\r\n            ...userOptions,\r\n        };\r\n\r\n        // load the font, unless asked to skip it\r\n        if (!options.skipDefaultFontLoading && !(globalThis as any)?.BABYLON_SKIP_FONT_LOADING) {\r\n            const font = document.createElement(\"link\");\r\n            font.rel = \"stylesheet\";\r\n            font.href = \"https://use.typekit.net/cta4xsb.css\";\r\n            document.head.appendChild(font);\r\n        }\r\n\r\n        // Prepare state\r\n        if (!this._GlobalState.onPropertyChangedObservable) {\r\n            this._GlobalState.init(this.OnPropertyChangedObservable);\r\n        }\r\n        if (!this._GlobalState.onSelectionChangedObservable) {\r\n            this._GlobalState.onSelectionChangedObservable = this.OnSelectionChangeObservable;\r\n        }\r\n\r\n        // Make sure it is not already opened\r\n        if (this.IsVisible && options.original) {\r\n            this.Hide();\r\n        }\r\n\r\n        if (!scene) {\r\n            scene = EngineStore.LastCreatedScene!;\r\n        }\r\n\r\n        this._Scene = scene;\r\n\r\n        const rootElement = scene ? scene.getEngine().getInputElement() : EngineStore.LastCreatedEngine!.getInputElement();\r\n\r\n        if (options.embedMode && options.showExplorer && options.showInspector) {\r\n            if (options.popup) {\r\n                this._CreateEmbedHost(scene, options, this._CreatePopup(\"INSPECTOR\", \"_EmbedHostWindow\"), Inspector.OnSelectionChangeObservable);\r\n                this._EmbedHostWindow.addEventListener(\"beforeunload\", () => this._GlobalState.onSceneExplorerClosedObservable.notifyObservers());\r\n                this._EmbedHostWindow.addEventListener(\"beforeunload\", () => this._GlobalState.onActionTabsClosedObservable.notifyObservers());\r\n            } else {\r\n                if (!rootElement) {\r\n                    return;\r\n                }\r\n                let parentControl = (options.globalRoot ? options.globalRoot : rootElement.parentElement) as HTMLElement;\r\n\r\n                if (!options.overlay && !this._NewCanvasContainer) {\r\n                    this._CreateCanvasContainer(parentControl);\r\n                } else if (!options.overlay && this._NewCanvasContainer && this._NewCanvasContainer.parentElement) {\r\n                    // the root is now the parent of the canvas container\r\n                    parentControl = this._NewCanvasContainer.parentElement;\r\n                }\r\n\r\n                if (this._NewCanvasContainer) {\r\n                    // If we move things around, let's control the resize\r\n                    if (options.handleResize && scene) {\r\n                        this._OnBeforeRenderObserver = scene.onBeforeRenderObservable.add(() => {\r\n                            scene.getEngine().resize();\r\n                        });\r\n                    }\r\n                }\r\n\r\n                this._CreateEmbedHost(scene, options, parentControl, Inspector.OnSelectionChangeObservable);\r\n            }\r\n        } else if (options.popup) {\r\n            if (options.showExplorer) {\r\n                if (this._SceneExplorerHost) {\r\n                    this._SceneExplorerHost.style.width = \"0\";\r\n                }\r\n                this._CreateSceneExplorer(scene, options, this._CreatePopup(\"SCENE EXPLORER\", \"_SceneExplorerWindow\"));\r\n                this._SceneExplorerWindow.addEventListener(\"beforeunload\", () => this._GlobalState.onSceneExplorerClosedObservable.notifyObservers());\r\n            }\r\n            if (options.showInspector) {\r\n                if (this._ActionTabsHost) {\r\n                    this._ActionTabsHost.style.width = \"0\";\r\n                }\r\n                this._CreateActionTabs(scene, options, this._CreatePopup(\"INSPECTOR\", \"_ActionTabsWindow\"));\r\n                this._ActionTabsWindow.addEventListener(\"beforeunload\", () => this._GlobalState.onActionTabsClosedObservable.notifyObservers());\r\n            }\r\n        } else {\r\n            let parentControl = (options.globalRoot ? options.globalRoot : rootElement!.parentElement) as HTMLElement;\r\n\r\n            if (!options.overlay && !this._NewCanvasContainer) {\r\n                this._CreateCanvasContainer(parentControl);\r\n            } else if (!options.overlay && this._NewCanvasContainer && this._NewCanvasContainer.parentElement) {\r\n                // the root is now the parent of the canvas container\r\n                parentControl = this._NewCanvasContainer.parentElement;\r\n            }\r\n\r\n            if (this._NewCanvasContainer) {\r\n                // If we move things around, let's control the resize\r\n                if (options.handleResize && scene) {\r\n                    this._OnBeforeRenderObserver = scene.onBeforeRenderObservable.add(() => {\r\n                        scene.getEngine().resize();\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (options.showExplorer) {\r\n                this._CreateSceneExplorer(scene, options, parentControl);\r\n            }\r\n\r\n            if (options.showInspector) {\r\n                this._CreateActionTabs(scene, options, parentControl);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static _SetNewScene(scene: Scene) {\r\n        this._Scene = scene;\r\n        this._GlobalState.onNewSceneObservable.notifyObservers(scene);\r\n    }\r\n\r\n    public static _CreateCanvasContainer(parentControl: HTMLElement) {\r\n        // Create a container for previous elements\r\n        this._NewCanvasContainer = parentControl.ownerDocument!.createElement(\"div\");\r\n        this._NewCanvasContainer.style.display = parentControl.style.display;\r\n        parentControl.style.display = \"flex\";\r\n\r\n        while (parentControl.childElementCount > 0) {\r\n            const child = parentControl.childNodes[0];\r\n            parentControl.removeChild(child);\r\n            this._NewCanvasContainer.appendChild(child);\r\n        }\r\n\r\n        parentControl.appendChild(this._NewCanvasContainer);\r\n\r\n        this._NewCanvasContainer.style.width = \"100%\";\r\n        this._NewCanvasContainer.style.height = \"100%\";\r\n    }\r\n\r\n    private static _DestroyCanvasContainer() {\r\n        if (!this._NewCanvasContainer) {\r\n            return;\r\n        }\r\n        const parentControl = this._NewCanvasContainer.parentElement!;\r\n\r\n        while (this._NewCanvasContainer.childElementCount > 0) {\r\n            const child = this._NewCanvasContainer.childNodes[0];\r\n            this._NewCanvasContainer.removeChild(child);\r\n            parentControl.appendChild(child);\r\n        }\r\n\r\n        parentControl.removeChild(this._NewCanvasContainer);\r\n        parentControl.style.display = this._NewCanvasContainer.style.display;\r\n        this._NewCanvasContainer = null;\r\n    }\r\n\r\n    private static _Cleanup() {\r\n        if (Inspector._OpenedPane !== 0) {\r\n            return;\r\n        }\r\n\r\n        // Gizmo disposal\r\n        this._GlobalState.lightGizmos.forEach((g) => {\r\n            if (g.light) {\r\n                this._GlobalState.enableLightGizmo(g.light, false);\r\n            }\r\n        });\r\n        this._GlobalState.cameraGizmos.forEach((g) => {\r\n            if (g.camera) {\r\n                this._GlobalState.enableCameraGizmo(g.camera, false);\r\n            }\r\n        });\r\n        if (this._Scene && this._Scene.reservedDataStore && this._Scene.reservedDataStore.gizmoManager) {\r\n            this._Scene.reservedDataStore.gizmoManager.dispose();\r\n            this._Scene.reservedDataStore.gizmoManager = null;\r\n        }\r\n\r\n        if (this._NewCanvasContainer) {\r\n            this._DestroyCanvasContainer();\r\n        }\r\n\r\n        if (this._OnBeforeRenderObserver && this._Scene) {\r\n            this._Scene.onBeforeRenderObservable.remove(this._OnBeforeRenderObserver);\r\n            this._OnBeforeRenderObserver = null;\r\n\r\n            this._Scene.getEngine().resize();\r\n        }\r\n\r\n        this._GlobalState.onInspectorClosedObservable.notifyObservers(this._Scene);\r\n    }\r\n\r\n    private static _RemoveElementFromDOM(element: Nullable<HTMLElement>) {\r\n        if (element && element.parentElement) {\r\n            element.parentElement.removeChild(element);\r\n        }\r\n    }\r\n\r\n    public static Hide() {\r\n        if (this._ActionTabsHost) {\r\n            ReactDOM.unmountComponentAtNode(this._ActionTabsHost);\r\n\r\n            this._RemoveElementFromDOM(this._ActionTabsHost);\r\n\r\n            this._ActionTabsHost = null;\r\n            this._GlobalState.onActionTabsClosedObservable.notifyObservers();\r\n        }\r\n\r\n        if (this._SceneExplorerHost) {\r\n            ReactDOM.unmountComponentAtNode(this._SceneExplorerHost);\r\n\r\n            if (this._SceneExplorerHost.parentElement) {\r\n                this._SceneExplorerHost.parentElement.removeChild(this._SceneExplorerHost);\r\n            }\r\n\r\n            this._SceneExplorerHost = null;\r\n            this._GlobalState.onSceneExplorerClosedObservable.notifyObservers();\r\n        }\r\n\r\n        if (this._EmbedHost) {\r\n            ReactDOM.unmountComponentAtNode(this._EmbedHost);\r\n\r\n            if (this._EmbedHost.parentElement) {\r\n                this._EmbedHost.parentElement.removeChild(this._EmbedHost);\r\n            }\r\n            this._EmbedHost = null;\r\n            this._GlobalState.onActionTabsClosedObservable.notifyObservers();\r\n            this._GlobalState.onSceneExplorerClosedObservable.notifyObservers();\r\n        }\r\n\r\n        Inspector._OpenedPane = 0;\r\n        this._Cleanup();\r\n\r\n        if (!this._GlobalState.onPluginActivatedObserver) {\r\n            SceneLoader.OnPluginActivatedObservable.remove(this._GlobalState.onPluginActivatedObserver);\r\n            this._GlobalState.onPluginActivatedObserver = null;\r\n        }\r\n    }\r\n\r\n    public static _CreatePersistentPopup(config: IPersistentPopupConfiguration, hostElement: HTMLElement) {\r\n        if (this._PersistentPopupHost) {\r\n            this._ClosePersistentPopup();\r\n        }\r\n\r\n        this._PersistentPopupHost = hostElement.ownerDocument.createElement(\"div\");\r\n        const popupElement = React.createElement(PopupComponent, config.props, config.children);\r\n        ReactDOM.render(popupElement, this._PersistentPopupHost);\r\n\r\n        if (config.closeWhenSceneExplorerCloses) {\r\n            this._OnSceneExplorerClosedObserver = this._GlobalState.onSceneExplorerClosedObservable.add(() => this._ClosePersistentPopup());\r\n        }\r\n        if (config.closeWhenActionTabsCloses) {\r\n            this._OnActionTabsClosedObserver = this._GlobalState.onActionTabsClosedObservable.add(() => this._ClosePersistentPopup());\r\n        }\r\n    }\r\n\r\n    public static _ClosePersistentPopup() {\r\n        if (this._PersistentPopupHost) {\r\n            ReactDOM.unmountComponentAtNode(this._PersistentPopupHost);\r\n            this._PersistentPopupHost.remove();\r\n            this._PersistentPopupHost = null;\r\n        }\r\n        if (this._OnSceneExplorerClosedObserver) {\r\n            this._GlobalState.onSceneExplorerClosedObservable.remove(this._OnSceneExplorerClosedObserver);\r\n            this._OnSceneExplorerClosedObserver = null;\r\n        }\r\n        if (this._OnActionTabsClosedObserver) {\r\n            this._GlobalState.onActionTabsClosedObservable.remove(this._OnActionTabsClosedObserver);\r\n            this._OnActionTabsClosedObserver = null;\r\n        }\r\n    }\r\n}\r\n\r\nInspector.EarlyAttachToLoader();\r\n"]}