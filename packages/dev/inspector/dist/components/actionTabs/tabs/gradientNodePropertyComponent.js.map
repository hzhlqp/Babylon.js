{"version":3,"file":"gradientNodePropertyComponent.js","sourceRoot":"","sources":["../../../../src/components/actionTabs/tabs/gradientNodePropertyComponent.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport type { GradientBlock } from \"core/Materials/Node/Blocks/gradientBlock\";\r\nimport { GradientBlockColorStep } from \"core/Materials/Node/Blocks/gradientBlock\";\r\nimport { GradientStepComponent } from \"./gradientStepComponent\";\r\nimport { Color3 } from \"core/Maths/math.color\";\r\nimport { ButtonLineComponent } from \"shared-ui-components/lines/buttonLineComponent\";\r\nimport type { IPropertyComponentProps } from \"./propertyComponentProps\";\r\n\r\nexport class GradientPropertyTabComponent extends React.Component<IPropertyComponentProps> {\r\n    private _gradientBlock: GradientBlock;\r\n    constructor(props: IPropertyComponentProps) {\r\n        super(props);\r\n        this._gradientBlock = this.props.block as GradientBlock;\r\n    }\r\n\r\n    forceRebuild() {\r\n        this._gradientBlock.colorStepsUpdated();\r\n        this.forceUpdate();\r\n    }\r\n\r\n    deleteStep(step: GradientBlockColorStep) {\r\n        const index = this._gradientBlock.colorSteps.indexOf(step);\r\n\r\n        if (index > -1) {\r\n            this._gradientBlock.colorSteps.splice(index, 1);\r\n            this.forceRebuild();\r\n        }\r\n    }\r\n\r\n    copyStep(step: GradientBlockColorStep) {\r\n        const gradientBlock = this.props.block as GradientBlock;\r\n\r\n        const newStep = new GradientBlockColorStep(1.0, step.color);\r\n        gradientBlock.colorSteps.push(newStep);\r\n        gradientBlock.colorStepsUpdated();\r\n        this.forceRebuild();\r\n        this.forceUpdate();\r\n    }\r\n\r\n    addNewStep() {\r\n        const newStep = new GradientBlockColorStep(1.0, Color3.White());\r\n        this._gradientBlock.colorSteps.push(newStep);\r\n        this.forceRebuild();\r\n    }\r\n\r\n    checkForReOrder() {\r\n        this._gradientBlock.colorSteps.sort((a, b) => {\r\n            return a.step - b.step;\r\n        });\r\n        this.forceRebuild();\r\n    }\r\n\r\n    override render() {\r\n        return (\r\n            <div>\r\n                <ButtonLineComponent label=\"Add new step\" onClick={() => this.addNewStep()} />\r\n                {this._gradientBlock.colorSteps.map((c, i) => {\r\n                    return (\r\n                        <GradientStepComponent\r\n                            globalState={this.props.globalState}\r\n                            onCheckForReOrder={() => this.checkForReOrder()}\r\n                            onUpdateStep={() => this.forceRebuild()}\r\n                            key={\"step-\" + i}\r\n                            lineIndex={i}\r\n                            step={c}\r\n                            onCopy={() => this.copyStep(c)}\r\n                            onDelete={() => this.deleteStep(c)}\r\n                        />\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}