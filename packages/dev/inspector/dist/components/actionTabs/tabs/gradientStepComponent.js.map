{"version":3,"file":"gradientStepComponent.js","sourceRoot":"","sources":["../../../../src/components/actionTabs/tabs/gradientStepComponent.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport type { GlobalState } from \"../../globalState\";\r\nimport { Color3 } from \"core/Maths/math.color\";\r\nimport type { GradientBlockColorStep } from \"core/Materials/Node/Blocks/gradientBlock\";\r\nimport { ColorPickerLine } from \"shared-ui-components/lines/colorPickerComponent\";\r\n\r\nimport deleteButton from \"../lines/delete.svg\";\r\nimport copyIcon from \"shared-ui-components/imgs/copyStep.svg\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\n\r\ninterface IGradientStepComponentProps {\r\n    globalState: GlobalState;\r\n    step: GradientBlockColorStep;\r\n    lineIndex: number;\r\n    lockObject?: LockObject;\r\n    onDelete: () => void;\r\n    onUpdateStep: () => void;\r\n    onCheckForReOrder: () => void;\r\n    onCopy?: () => void;\r\n}\r\n\r\nexport class GradientStepComponent extends React.Component<IGradientStepComponentProps, { gradient: number }> {\r\n    constructor(props: IGradientStepComponentProps) {\r\n        super(props);\r\n\r\n        this.state = { gradient: props.step.step };\r\n    }\r\n\r\n    updateColor(color: string) {\r\n        this.props.step.color = Color3.FromHexString(color);\r\n\r\n        this.props.onUpdateStep();\r\n        this.forceUpdate();\r\n    }\r\n\r\n    updateStep(gradient: number) {\r\n        this.props.step.step = gradient;\r\n\r\n        this.setState({ gradient: gradient });\r\n\r\n        this.props.onUpdateStep();\r\n    }\r\n\r\n    onPointerUp() {\r\n        this.props.onCheckForReOrder();\r\n    }\r\n\r\n    override render() {\r\n        const step = this.props.step;\r\n\r\n        return (\r\n            <div className=\"gradient-step\">\r\n                <div className=\"step\">{`#${this.props.lineIndex}`}</div>\r\n                <div className=\"color\">\r\n                    <ColorPickerLine\r\n                        lockObject={this.props.lockObject}\r\n                        value={step.color}\r\n                        onColorChanged={(color) => {\r\n                            this.updateColor(color);\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div className=\"step-value\">{step.step.toFixed(2)}</div>\r\n                <div className=\"step-slider slider\">\r\n                    <input\r\n                        className=\"range\"\r\n                        type=\"range\"\r\n                        step={0.01}\r\n                        min={0}\r\n                        max={1.0}\r\n                        value={step.step}\r\n                        onPointerUp={() => this.onPointerUp()}\r\n                        onChange={(evt) => this.updateStep(parseFloat(evt.target.value))}\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"gradient-copy\"\r\n                    onClick={() => {\r\n                        if (this.props.onCopy) this.props.onCopy();\r\n                    }}\r\n                    title=\"Copy Step\"\r\n                >\r\n                    <img className=\"img\" src={copyIcon} />\r\n                </div>\r\n                <div className=\"gradient-delete\" onClick={() => this.props.onDelete()} title={\"Delete Step\"}>\r\n                    <img className=\"img\" src={deleteButton} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}