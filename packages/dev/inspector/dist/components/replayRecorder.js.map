{"version":3,"file":"replayRecorder.js","sourceRoot":"","sources":["../../src/components/replayRecorder.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AAExD,OAAO,EAAE,KAAK,EAAE,MAAM,iBAAiB,CAAC;AAExC,MAAM,OAAO,cAAc;IAA3B;QACY,mBAAc,GAAG,IAAI,aAAa,EAAE,CAAC;QACrC,iBAAY,GAAG,KAAK,CAAC;IA2BjC,CAAC;IAzBG,IAAW,WAAW;QAClB,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAEM,MAAM;QACT,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC9B,CAAC;IAEM,UAAU,CAAC,KAAY;QAC1B,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC7B,CAAC;IAEM,UAAU,CAAC,IAAS,EAAE,KAAY;QACrC,aAAa,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC9B,CAAC;IAEM,MAAM;QACT,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC;QAE/D,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;QAEjD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC9B,CAAC;CACJ","sourcesContent":["import { SceneRecorder } from \"core/Misc/sceneRecorder\";\r\nimport type { Scene } from \"core/scene\";\r\nimport { Tools } from \"core/Misc/tools\";\r\n\r\nexport class ReplayRecorder {\r\n    private _sceneRecorder = new SceneRecorder();\r\n    private _isRecording = false;\r\n\r\n    public get isRecording() {\r\n        return this._isRecording;\r\n    }\r\n\r\n    public cancel() {\r\n        this._isRecording = false;\r\n    }\r\n\r\n    public trackScene(scene: Scene) {\r\n        this._sceneRecorder.track(scene);\r\n        this._isRecording = true;\r\n    }\r\n\r\n    public applyDelta(json: any, scene: Scene) {\r\n        SceneRecorder.ApplyDelta(json, scene);\r\n        this._isRecording = false;\r\n    }\r\n\r\n    public export() {\r\n        const content = JSON.stringify(this._sceneRecorder.getDelta());\r\n\r\n        Tools.Download(new Blob([content]), \"diff.json\");\r\n\r\n        this._isRecording = false;\r\n    }\r\n}\r\n"]}