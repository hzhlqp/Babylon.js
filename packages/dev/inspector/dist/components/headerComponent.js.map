{"version":3,"file":"headerComponent.js","sourceRoot":"","sources":["../../src/components/headerComponent.tsx"],"names":[],"mappings":"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","sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faWindowRestore, faTimes, faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\r\nimport * as React from \"react\";\r\n\r\nimport type { Nullable } from \"core/types\";\r\nimport type { Observable, Observer } from \"core/Misc/observable\";\r\n\r\nexport interface IHeaderComponentProps {\r\n    title: string;\r\n    handleBack?: boolean;\r\n    noExpand?: boolean;\r\n    noClose?: boolean;\r\n    noCommands?: boolean;\r\n    onPopup: () => void;\r\n    onClose: () => void;\r\n    onSelectionChangedObservable?: Observable<any>;\r\n}\r\n\r\nexport class HeaderComponent extends React.Component<IHeaderComponentProps, { isBackVisible: boolean }> {\r\n    private _backStack = new Array<any>();\r\n    private _onSelectionChangeObserver: Nullable<Observer<any>>;\r\n\r\n    constructor(props: IHeaderComponentProps) {\r\n        super(props);\r\n        this.state = { isBackVisible: false };\r\n    }\r\n\r\n    override componentDidMount() {\r\n        if (!this.props.onSelectionChangedObservable) {\r\n            return;\r\n        }\r\n\r\n        this._onSelectionChangeObserver = this.props.onSelectionChangedObservable.add((entity) => {\r\n            if (this._backStack.length === 0 || entity !== this._backStack[this._backStack.length - 1]) {\r\n                this._backStack.push(entity);\r\n                this.setState({ isBackVisible: this._backStack.length > 1 });\r\n            }\r\n        });\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        if (this._onSelectionChangeObserver) {\r\n            this.props.onSelectionChangedObservable!.remove(this._onSelectionChangeObserver);\r\n        }\r\n    }\r\n\r\n    goBack() {\r\n        this._backStack.pop(); // remove current\r\n        const entity = this._backStack[this._backStack.length - 1];\r\n\r\n        if (this.props.onSelectionChangedObservable) {\r\n            this.props.onSelectionChangedObservable.notifyObservers(entity);\r\n        }\r\n\r\n        this.setState({ isBackVisible: this._backStack.length > 1 });\r\n    }\r\n\r\n    renderLogo() {\r\n        if (this.props.noCommands) {\r\n            return null;\r\n        }\r\n\r\n        if (this.props.handleBack) {\r\n            if (!this.state.isBackVisible) {\r\n                return null;\r\n            }\r\n\r\n            return (\r\n                <div id=\"back\" onClick={() => this.goBack()}>\r\n                    <FontAwesomeIcon icon={faArrowLeft} />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return <img id=\"logo\" style={{ top: \"0%\" }} src=\"https://www.babylonjs.com/Assets/logo-babylonjs-social-twitter.png\" />;\r\n    }\r\n\r\n    override render() {\r\n        return (\r\n            <div id=\"header\">\r\n                {this.renderLogo()}\r\n                <div id=\"title\">{this.props.title}</div>\r\n                <div id=\"commands\">\r\n                    {!this.props.noCommands && !this.props.noExpand && (\r\n                        <div className=\"expand\" onClick={() => this.props.onPopup()}>\r\n                            <FontAwesomeIcon icon={faWindowRestore} />\r\n                        </div>\r\n                    )}\r\n                    {!this.props.noCommands && !this.props.noClose && (\r\n                        <div className=\"close\" onClick={() => this.props.onClose()}>\r\n                            <FontAwesomeIcon icon={faTimes} />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}