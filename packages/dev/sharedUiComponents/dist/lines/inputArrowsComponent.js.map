{"version":3,"file":"inputArrowsComponent.js","sourceRoot":"","sources":["../../src/lines/inputArrowsComponent.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,WAAW,MAAM,wBAAwB,CAAC;AACjD,OAAO,aAAa,MAAM,0BAA0B,CAAC;AAOrD,MAAM,OAAO,oBAAqB,SAAQ,KAAK,CAAC,SAAqC;IAArF;;QACY,eAAU,GAAG,KAAK,CAAC,SAAS,EAAkB,CAAC;QAC/C,UAAK,GAAG,CAAC,KAAiB,EAAE,EAAE;YAClC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAChD,CAAC,CAAC;QACM,qBAAgB,GAAG,GAAG,EAAE;YAC5B,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC9B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,aAAa,CAAC,eAAe,EAAE,CAAC;YACzD,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,aAAa,CAAC,WAAY,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAC5G,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,aAAa,CAAC,mBAAmB,CAAC,mBAAmB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;YAC1G,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,aAAa,CAAC,WAAY,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACrG,CAAC,CAAC;QACM,wBAAmB,GAAG,GAAG,EAAE;YAC/B,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,aAAa,CAAC,kBAAkB,KAAK,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;gBACvF,IAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B;QACL,CAAC,CAAC;IAqBN,CAAC;IAnBY,MAAM;QACX,OAAO,CACH,eACI,SAAS,EAAC,QAAQ,EAClB,GAAG,EAAE,IAAI,CAAC,UAAU,EACpB,aAAa,EAAE,GAAG,EAAE;gBAChB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,aAAa,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACvG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,aAAa,CAAC,WAAY,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACzG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,aAAa,CAAC,WAAY,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC9F,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAC7B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,kBAAkB,EAAE,CAAC;YAClD,CAAC,EACD,WAAW,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,cAAc,EAAE,aAE1C,cAAK,SAAS,EAAC,aAAa,EAAC,GAAG,EAAE,WAAW,EAAE,GAAG,EAAC,gBAAgB,GAAG,EACtE,cAAK,SAAS,EAAC,eAAe,EAAC,GAAG,EAAE,aAAa,EAAE,GAAG,EAAC,gBAAgB,GAAG,IACxE,CACT,CAAC;IACN,CAAC;CACJ","sourcesContent":["import * as React from \"react\";\r\n\r\nimport upArrowIcon from \"./valueUpArrowIcon.svg\";\r\nimport downArrowIcon from \"./valueDownArrowIcon.svg\";\r\n\r\ninterface IInputArrowsComponentProps {\r\n    incrementValue: (amount: number) => void;\r\n    setDragging: (dragging: boolean) => void;\r\n}\r\n\r\nexport class InputArrowsComponent extends React.Component<IInputArrowsComponentProps> {\r\n    private _arrowsRef = React.createRef<HTMLDivElement>();\r\n    private _drag = (event: MouseEvent) => {\r\n        this.props.incrementValue(-event.movementY);\r\n    };\r\n    private _releaseListener = () => {\r\n        this.props.setDragging(false);\r\n        this._arrowsRef.current?.ownerDocument.exitPointerLock();\r\n        this._arrowsRef.current?.ownerDocument.defaultView!.removeEventListener(\"pointerup\", this._releaseListener);\r\n        this._arrowsRef.current?.ownerDocument.removeEventListener(\"pointerlockchange\", this._lockChangeListener);\r\n        this._arrowsRef.current?.ownerDocument.defaultView!.removeEventListener(\"mousemove\", this._drag);\r\n    };\r\n    private _lockChangeListener = () => {\r\n        if (this._arrowsRef.current?.ownerDocument.pointerLockElement !== this._arrowsRef.current) {\r\n            this._releaseListener();\r\n        }\r\n    };\r\n\r\n    override render() {\r\n        return (\r\n            <div\r\n                className=\"arrows\"\r\n                ref={this._arrowsRef}\r\n                onPointerDown={() => {\r\n                    this._arrowsRef.current?.ownerDocument.addEventListener(\"pointerlockchange\", this._lockChangeListener);\r\n                    this._arrowsRef.current?.ownerDocument.defaultView!.addEventListener(\"pointerup\", this._releaseListener);\r\n                    this._arrowsRef.current?.ownerDocument.defaultView!.addEventListener(\"mousemove\", this._drag);\r\n                    this.props.setDragging(true);\r\n                    this._arrowsRef.current?.requestPointerLock();\r\n                }}\r\n                onDragStart={(evt) => evt.preventDefault()}\r\n            >\r\n                <img className=\"upArrowIcon\" src={upArrowIcon} alt=\"Increase Value\" />\r\n                <img className=\"downArrowIcon\" src={downArrowIcon} alt=\"Increase Value\" />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}