{"version":3,"file":"framePropertyComponent.js","sourceRoot":"","sources":["../../../src/graphSystem/properties/framePropertyComponent.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,sBAAsB,EAAE,MAAM,+CAA+C,CAAC;AAIvF,OAAO,EAAE,0BAA0B,EAAE,MAAM,yDAAyD,CAAC;AACrG,OAAO,EAAE,sBAAsB,EAAE,MAAM,mDAAmD,CAAC;AAE3F,OAAO,EAAE,mBAAmB,EAAE,MAAM,gDAAgD,CAAC;AACrF,OAAO,EAAE,mBAAmB,EAAE,MAAM,gDAAgD,CAAC;AASrF,MAAM,OAAO,yBAA0B,SAAQ,KAAK,CAAC,SAA0C;IAG3F,YAAY,KAAsC;QAC9C,KAAK,CAAC,KAAK,CAAC,CAAC;IACjB,CAAC;IAEQ,iBAAiB;QACtB,IAAI,CAAC,kCAAkC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;IAClH,CAAC;IAEQ,oBAAoB;QACzB,IAAI,IAAI,CAAC,kCAAkC,EAAE;YACzC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,oBAAoB,CAAC,MAAM,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;YACtF,IAAI,CAAC,kCAAkC,GAAG,IAAI,CAAC;SAClD;IACL,CAAC;IAEQ,MAAM;QACX,IAAI,uBAAuB,GAAgC,EAAE,CAAC;QAC9D,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACpC,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAA4B,CAAC;YACxD,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,cAAc,EAAE;gBACvC,uBAAuB,CAAC,IAAI,CAAC,KAAkC,CAAC,CAAC;aACpE;QACL,CAAC,CAAC,CAAC;QAEH,uBAAuB,GAAG,uBAAuB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC5D,OAAO,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,OAAO,CACH,eAAK,EAAE,EAAC,aAAa,aACjB,eAAK,EAAE,EAAC,QAAQ,aACZ,cAAK,EAAE,EAAC,MAAM,EAAC,GAAG,EAAC,oEAAoE,GAAG,EAC1F,cAAK,EAAE,EAAC,OAAO,qCAA2B,IACxC,EACN,0BACI,MAAC,sBAAsB,IAAC,KAAK,EAAC,SAAS,aACnC,KAAC,sBAAsB,IAAC,KAAK,EAAC,MAAM,EAAC,YAAY,EAAC,MAAM,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAI,EACpI,KAAC,mBAAmB,IAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE,KAAK,EAAC,OAAO,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,EAAC,OAAO,GAAuB,EACvJ,KAAC,sBAAsB,IAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE,KAAK,EAAC,UAAU,EAAC,YAAY,EAAC,UAAU,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAI,EAC3I,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,IAAI,CAC9B,KAAC,mBAAmB,IAChB,KAAK,EAAC,UAAU,EAChB,OAAO,EAAE,GAAG,EAAE;wCACV,IAAI,CAAC,KAAK,CAAC,KAAM,CAAC,WAAW,GAAG,IAAI,CAAC;oCACzC,CAAC,GACH,CACL,EACA,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,IAAI,CAC7B,KAAC,mBAAmB,IAChB,KAAK,EAAC,QAAQ,EACd,OAAO,EAAE,GAAG,EAAE;wCACV,IAAI,CAAC,KAAK,CAAC,KAAM,CAAC,WAAW,GAAG,KAAK,CAAC;oCAC1C,CAAC,GACH,CACL,EACD,KAAC,mBAAmB,IAChB,KAAK,EAAC,QAAQ,EACd,OAAO,EAAE,GAAG,EAAE;wCACV,IAAI,CAAC,KAAK,CAAC,KAAM,CAAC,MAAM,EAAE,CAAC;oCAC/B,CAAC,GACH,IACmB,EACzB,KAAC,0BAA0B,IACvB,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,EAC7C,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EACnC,MAAM,EAAE,uBAAuB,GACL,IAC5B,IACJ,CACT,CAAC;IACN,CAAC;CACJ","sourcesContent":["import * as React from \"react\";\r\nimport { LineContainerComponent } from \"../../sharedComponents/lineContainerComponent\";\r\nimport type { GlobalState } from \"../../globalState\";\r\nimport type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { InputsPropertyTabComponent } from \"../../components/propertyTab/inputsPropertyTabComponent\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport type { GraphFrame } from \"shared-ui-components/nodeGraphSystem/graphFrame\";\r\nimport { Color3LineComponent } from \"shared-ui-components/lines/color3LineComponent\";\r\nimport { ButtonLineComponent } from \"shared-ui-components/lines/buttonLineComponent\";\r\nimport type { NodeRenderGraphInputBlock } from \"core/FrameGraph/Node/Blocks/inputBlock\";\r\nimport type { NodeRenderGraphBlock } from \"core/FrameGraph/Node/nodeRenderGraphBlock\";\r\n\r\nexport interface IFramePropertyTabComponentProps {\r\n    globalState: GlobalState;\r\n    frame: GraphFrame;\r\n}\r\n\r\nexport class FramePropertyTabComponent extends React.Component<IFramePropertyTabComponentProps> {\r\n    private _onFrameExpandStateChangedObserver: Nullable<Observer<GraphFrame>>;\r\n\r\n    constructor(props: IFramePropertyTabComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override componentDidMount() {\r\n        this._onFrameExpandStateChangedObserver = this.props.frame.onExpandStateChanged.add(() => this.forceUpdate());\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        if (this._onFrameExpandStateChangedObserver) {\r\n            this.props.frame.onExpandStateChanged.remove(this._onFrameExpandStateChangedObserver);\r\n            this._onFrameExpandStateChangedObserver = null;\r\n        }\r\n    }\r\n\r\n    override render() {\r\n        let configurableInputBlocks: NodeRenderGraphInputBlock[] = [];\r\n        this.props.frame.nodes.forEach((node) => {\r\n            const block = node.content.data as NodeRenderGraphBlock;\r\n            if (block.isInput && block.visibleOnFrame) {\r\n                configurableInputBlocks.push(block as NodeRenderGraphInputBlock);\r\n            }\r\n        });\r\n\r\n        configurableInputBlocks = configurableInputBlocks.sort((a, b) => {\r\n            return a.name.localeCompare(b.name);\r\n        });\r\n\r\n        return (\r\n            <div id=\"propertyTab\">\r\n                <div id=\"header\">\r\n                    <img id=\"logo\" src=\"https://www.babylonjs.com/Assets/logo-babylonjs-social-twitter.png\" />\r\n                    <div id=\"title\">NODE MATERIAL EDITOR</div>\r\n                </div>\r\n                <div>\r\n                    <LineContainerComponent title=\"GENERAL\">\r\n                        <TextInputLineComponent label=\"Name\" propertyName=\"name\" lockObject={this.props.globalState.lockObject} target={this.props.frame} />\r\n                        <Color3LineComponent lockObject={this.props.globalState.lockObject} label=\"Color\" target={this.props.frame} propertyName=\"color\"></Color3LineComponent>\r\n                        <TextInputLineComponent lockObject={this.props.globalState.lockObject} label=\"Comments\" propertyName=\"comments\" target={this.props.frame} />\r\n                        {!this.props.frame.isCollapsed && (\r\n                            <ButtonLineComponent\r\n                                label=\"Collapse\"\r\n                                onClick={() => {\r\n                                    this.props.frame!.isCollapsed = true;\r\n                                }}\r\n                            />\r\n                        )}\r\n                        {this.props.frame.isCollapsed && (\r\n                            <ButtonLineComponent\r\n                                label=\"Expand\"\r\n                                onClick={() => {\r\n                                    this.props.frame!.isCollapsed = false;\r\n                                }}\r\n                            />\r\n                        )}\r\n                        <ButtonLineComponent\r\n                            label=\"Export\"\r\n                            onClick={() => {\r\n                                this.props.frame!.export();\r\n                            }}\r\n                        />\r\n                    </LineContainerComponent>\r\n                    <InputsPropertyTabComponent\r\n                        lockObject={this.props.globalState.lockObject}\r\n                        globalState={this.props.globalState}\r\n                        inputs={configurableInputBlocks}\r\n                    ></InputsPropertyTabComponent>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}