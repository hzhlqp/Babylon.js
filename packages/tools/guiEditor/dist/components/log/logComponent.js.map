{"version":3,"file":"logComponent.js","sourceRoot":"","sources":["../../../src/components/log/logComponent.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,KAAK,QAAQ,MAAM,WAAW,CAAC;AAEtC,OAAO,YAAY,CAAC;AAMpB,MAAM,OAAO,QAAQ;IACjB,YACW,OAAe,EACf,OAAgB;QADhB,YAAO,GAAP,OAAO,CAAQ;QACf,YAAO,GAAP,OAAO,CAAS;IACxB,CAAC;CACP;AAED,MAAM,OAAO,YAAa,SAAQ,KAAK,CAAC,SAAmD;IACvF,YAAY,KAAyB;QACjC,KAAK,CAAC,KAAK,CAAC,CAAC;QAEb,IAAI,CAAC,KAAK,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;IAC9B,CAAC;IAEQ,iBAAiB;QACtB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACvD,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;YAC5D,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACP,CAAC;IAEQ,kBAAkB;QACvB,MAAM,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAgB,CAAC;QACjF,IAAI,CAAC,UAAU,EAAE;YACb,OAAO;SACV;QAED,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,YAAY,CAAC;IACnD,CAAC;IAEQ,MAAM;QACX,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,MAAM,CAAC,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC3B,MAAM,CAAC,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;QAC7B,MAAM,CAAC,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;QAE7B,OAAO,CACH,cAAK,EAAE,EAAC,aAAa,EAAC,GAAG,EAAE,aAAa,YACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC1B,OAAO,CACH,cAAa,SAAS,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,YACtD,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,OAAO,IADnC,CAAC,CAEL,CACT,CAAC;YACN,CAAC,CAAC,GACA,CACT,CAAC;IACN,CAAC;CACJ","sourcesContent":["import * as React from \"react\";\r\nimport type { GlobalState } from \"../../globalState\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport \"./log.scss\";\r\n\r\ninterface ILogComponentProps {\r\n    globalState: GlobalState;\r\n}\r\n\r\nexport class LogEntry {\r\n    constructor(\r\n        public message: string,\r\n        public isError: boolean\r\n    ) {}\r\n}\r\n\r\nexport class LogComponent extends React.Component<ILogComponentProps, { logs: LogEntry[] }> {\r\n    constructor(props: ILogComponentProps) {\r\n        super(props);\r\n\r\n        this.state = { logs: [] };\r\n    }\r\n\r\n    override componentDidMount() {\r\n        this.props.globalState.onLogRequiredObservable.add((log) => {\r\n            const newLogArray = this.state.logs.map((number) => number);\r\n            newLogArray.push(log);\r\n            this.setState({ logs: newLogArray });\r\n        });\r\n    }\r\n\r\n    override componentDidUpdate() {\r\n        const logConsole = ReactDOM.findDOMNode(this.refs[\"log-console\"]) as HTMLElement;\r\n        if (!logConsole) {\r\n            return;\r\n        }\r\n\r\n        logConsole.scrollTop = logConsole.scrollHeight;\r\n    }\r\n\r\n    override render() {\r\n        const today = new Date();\r\n        const h = today.getHours();\r\n        const m = today.getMinutes();\r\n        const s = today.getSeconds();\r\n\r\n        return (\r\n            <div id=\"log-console\" ref={\"log-console\"}>\r\n                {this.state.logs.map((l, i) => {\r\n                    return (\r\n                        <div key={i} className={\"log\" + (l.isError ? \" error\" : \"\")}>\r\n                            {h + \":\" + m + \":\" + s + \": \" + l.message}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}